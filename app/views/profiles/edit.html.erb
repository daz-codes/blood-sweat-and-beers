<% content_for :title, "Edit Profile" %>

<div class="max-w-lg mx-auto">

  <div class="mb-8">
    <h1 class="text-3xl font-bold tracking-tight">Profile</h1>
    <p class="text-gray-400 mt-1">Set your username and display name.</p>
  </div>

  <%= form_with model: @user, url: profile_path, method: :patch do |f| %>

    <div class="space-y-5">

      <%# Display name %>
      <div>
        <%= f.label :display_name, "Display Name",
            class: "block text-sm font-semibold text-gray-300 uppercase tracking-wide mb-2" %>
        <%= f.text_field :display_name, placeholder: "e.g. Jane Smith",
            class: "w-full bg-gray-900 border border-gray-700 rounded-xl px-4 py-2.5 text-white text-sm placeholder-gray-600 focus:outline-none focus:border-orange-500" %>
        <p class="text-gray-600 text-xs mt-1.5">This is shown on your posts in the feed.</p>
      </div>

      <%# Username %>
      <div>
        <%= f.label :username, "Username",
            class: "block text-sm font-semibold text-gray-300 uppercase tracking-wide mb-2" %>
        <div class="flex items-center">
          <span class="bg-gray-800 border border-r-0 border-gray-700 rounded-l-xl px-3 py-2.5 text-gray-500 text-sm">@</span>
          <%= f.text_field :username, placeholder: "your_handle",
              class: "flex-1 bg-gray-900 border border-gray-700 rounded-r-xl px-4 py-2.5 text-white text-sm placeholder-gray-600 focus:outline-none focus:border-orange-500",
              autocomplete: "off" %>
        </div>
        <p class="text-gray-600 text-xs mt-1.5">3â€“30 characters: letters, numbers, and underscores. Must be unique.</p>

        <% if @user.errors[:username].any? %>
          <p class="text-red-400 text-xs mt-1"><%= @user.errors[:username].first %></p>
        <% end %>
      </div>

      <%# Email (read-only) %>
      <div>
        <p class="block text-sm font-semibold text-gray-300 uppercase tracking-wide mb-2">Email</p>
        <p class="text-gray-500 text-sm py-2.5"><%= Current.user.email_address %></p>
      </div>

    </div>

    <div class="mt-8">
      <%= f.submit "Save Profile",
          class: "w-full bg-orange-500 hover:bg-orange-400 text-white font-bold py-3.5 rounded-xl text-lg transition-colors cursor-pointer" %>
    </div>

  <% end %>

</div>
