// rubymonkey@1.4.0 downloaded from https://ga.jspm.io/npm:rubymonkey@1.4.0/index.js

function t(t,e){const r={};for(const[t,n]of Object.entries(e))n&&typeof n==="object"&&typeof n.get==="function"?r[t]={get:n.get,configurable:true,enumerable:false}:r[t]={value:n,configurable:true,enumerable:false,writable:true};Object.defineProperties(t,r)}t(String.prototype,{reverse:{get(){return this.split("").reverse().join("")}},size:{get(){return this.length}},to_i:{get(){const t=parseInt(this);return isNaN(t)?0:t}},to_f:{get(){const t=parseFloat(this);return isNaN(t)?0:t}},to_s:{get(){return this}},downcase:{get(){return this.toLowerCase()}},upcase:{get(){return this.toUpperCase()}},upcase_first:{get(){return this===""?"":this[0].toUpperCase()+this.slice(1)}},downcase_first:{get(){return this===""?"":this[0].toLowerCase()+this.slice(1)}},squish:{get(){return this.replace(/\s+/g," ").trim()}},isBlank:{get(){return this.trim()===""}},blank:{get(){return this.trim()===""}},isEmpty:{get(){return this===""}},empty:{get(){return this===""}},humanize:{get(){const t=this.slice(-3)==="_id"?this.slice(0,-3):this;return t.replace(/_/g," ").upcase_first}},titleize:{get(){return this.humanize.split(" ").map((t=>t.upcase_first)).join(" ")}},titlecase:{get(){return this.titleize}},parameterize:{get(){return this.trim().replace(/[.,\/#!$@%\^&\*;:{}=\-_`~()]/g,"").toLowerCase().replace(/\s+/g,"-")}},chars:{get(){return this.split("")}},first:{get(){return this[0]}},last:{get(){return this[this.length-1]}},count:function(t){return this.split(t).length-1},eql:function(t){return this===t},starts_with:function(t){return this.slice(0,t.length)===t},ends_with:function(t){return this.slice(-t.length)===t},first_:function(t=1){return t<1?"":this.slice(0,t)},last_:function(t=1){return t<1?"":this.slice(-t)}});t(Array.prototype,{first:{get(){return this[0]}},second:{get(){return this[1]}},third:{get(){return this[2]}},fourth:{get(){return this[3]}},fifth:{get(){return this[4]}},forty_two:{get(){return this[41]}},third_to_last:{get(){return this[this.length-3]}},second_to_last:{get(){return this[this.length-2]}},last:{get(){return this[this.length-1]}},isEmpty:{get(){return this.length===0}},empty:{get(){return this.length===0}},size:{get(){return this.length}},min:{get(){return this.length?Math.min(...this):void 0}},max:{get(){return this.length?Math.max(...this):void 0}},minmax:{get(){return this.length?[Math.min(...this),Math.max(...this)]:void 0}},uniq:{get(){return Array.from(new Set(this))}},sum:{get(){return this.reduce(((t,e)=>t+e),0)}},multiply:{get(){return this.reduce(((t,e)=>t*e),1)}},flatten:{get(){return this.flat()}},compact:{get(){return this.filter((t=>t!=null))}},to_param:{get(){return this.join("/")}},to_s:{get(){return"["+this.map((t=>`${t?.to_s||t}`)).join(", ")+"]"}},to_sentence:{get(){return this.length===0?"":this.length===1?String(this[0]):this.slice(0,-1).join(", ")+" and "+this.last}},tally:{get(){return this.reduce(((t,e)=>{t[e]=(t[e]||0)+1;return t}),{})}},clear:{get(){this.length=0;return this}},shuffle:{get(){const t=[...this];for(let e=t.length-1;e>0;e--){const r=Math.floor(Math.random()*(e+1));[t[e],t[r]]=[t[r],t[e]]}return t}},transpose:{get(){return this.length===0?[]:this[0].map(((t,e)=>this.map((t=>t[e]))))}},sort:{get(){return this.toSorted(((t,e)=>t-e))}},sample:function(t=1){const e=[...this];const r=[];for(let n=0;n<t;n++){if(!e.length)break;const t=Math.floor(Math.random()*e.length);r.push(e.splice(t,1)[0])}return t===1?r[0]:r},any:function(t){return t?this.some(t):this.length>0},one:function(t){return t?this.filter(t).length===1:this.length===1},reject:function(t){return t?this.filter((e=>!t(e))):this},partition:function(t){return[this.filter(t),this.filter((e=>!t(e)))]},count:function(t){return t?this.filter(t).length:this.length},pluck:function(t){return this.map((e=>e[t]))},from:function(t){return this.slice(t)||[]},combination:function(t){if(t<=0||t>this.length)return[];const e=[];const r=(n,i=[])=>{if(i.length!==t)for(let t=0;t<n.length;t++)r(n.slice(t+1),i.concat(n[t]));else e.push(i)};r(this);return e},product:function(...t){return t.length===0?this.map((t=>[t])):t.reduce(((t,e)=>t.flatMap((t=>e.map((e=>[...t,e]))))),this.map((t=>[t])))},each_cons:function(t,e){const r=this.map(((e,r)=>this.slice(r,r+t))).slice(0,-(t-1));return this.length<t?[]:e?r.map(e):r},rotate:function(t=1){return[...this.slice(t%this.length),...this.slice(0,t%this.length)]},zip:function(t){return this.map(((e,r)=>t[r]?[e,t[r]]:null)).filter(Boolean)},union:function(...t){return[...new Set([...this,...t.flat()])]},intersection:function(...t){return[...new Set(this.filter((e=>t.every((t=>t.includes(e))))))]},difference:function(...t){return[...new Set(this.filter((e=>t.every((t=>!t.includes(e))))))]},delete_at:function(t){if(!(t<-this.length||t>=this.length))return this.splice(t<0?this.length+t:t,1)[0]},dig:function(...t){return t.reduce(((t,e)=>t?.[e]),this)},eql:function(t){return this.length===t.length&&this.filter(((e,r)=>e.eql?e.eql(t[r]):e===t[r])).length===this.length},filter_map:function(t){return this.map(t).compact},each_with_object:function(t,e){return this.forEach((r=>e(r,t)))},first_:function(t=1){return t<1?[]:this.slice(0,t)},last_:function(t=1){return t<1?[]:this.slice(-t)},sort_by:function(t,e){const r=typeof e==="string"&&e.toLowerCase()==="desc";return this.toSorted(((e,n)=>{const i=t(e);const s=t(n);return i<s?r?1:-1:i>s?r?-1:1:0}))},flat_map:Array.prototype.flatMap,collect:Array.prototype.map,all:Array.prototype.every,select:Array.prototype.filter,each:Array.prototype.forEach,detect:Array.prototype.find,inject:Array.prototype.reduce,delete_if:Array.prototype.reject,drop:Array.prototype.slice});t(Number.prototype,{isEven:{get(){return this%2===0}},even:{get(){return this%2===0}},isOdd:{get(){return this%2!==0}},odd:{get(){return this%2!==0}},next:{get(){return this+1}},pred:{get(){return this-1}},squared:{get(){return this*this}},cubed:{get(){return this**3}},ordinal:{get(){return[11,12,13].includes(this%100)?"th":["st","nd","rd"][this%10-1]||"th"}},ordinalize:{get(){return this.toString()+this.ordinal}},isInteger:{get(){return Number.isInteger(this)}},integer:{get(){return Number.isInteger(this)}},isPositive:{get(){return this>0}},positive:{get(){return this>0}},isNegative:{get(){return this<0}},negative:{get(){return this<0}},isZero:{get(){return this===0}},zero:{get(){return this===0}},isNonzero:{get(){return this!==0}},nonzero:{get(){return this===0?void 0:this}},digits:{get(){return[...Math.abs(this).toString()].map(Number)}},factors:{get(){return[...Array(Math.abs(this)+1).keys()].slice(1).filter((t=>this%t===0))}},isPrime:{get(){if(this<2)return false;if(this%2===0&&this!==2)return false;for(let t=3;t<=Math.sqrt(this);t+=2)if(this%t===0)return false;return true}},prime:{get(){this.isPrime}},to_s:{get(){return this.toString()}},abs:{get(){return Math.abs(this)}},round:{get(){return this<0?-1*Math.round(Math.abs(this)):Math.round(this)}},ceil:{get(){return Math.ceil(this)}},floor:{get(){return Math.floor(this)}},upto:function(t,e){const r=[...Array(Math.max(0,t-this+1)).keys()].map((t=>t+this));return typeof e==="function"?r.forEach(e):r},downto:function(t,e){const r=[...Array(Math.max(0,this-t+1)).keys()].map((t=>this-t));return typeof e==="function"?r.forEach(e):r},times:function(t){for(let e=0;e<this;e++)t(e)},div:function(t){return Math.floor(this/t)},modulo:function(t){return(this%t+t)%t},mod:function(t){return this.modulo(t)},divmod:function(t){return[Math.floor(this/t),this%t]},gcd:function(t){return t?t.gcd(this%t):this},hcf:function(t){return this.gcd(t)},lcm:function(t){return this*t/this.gcd(t)},isBetween:function(t,e){return this>=t&&this<=e},between:function(t,e){return this>=t&&this<=e},eql:function(t){return this===t},multiple_of:function(t){return this%t===0},divisible_by:function(t){return this%t===0},divisor_of:function(t){return t%this===0},factor_of:function(t){return t%this===0},add:function(t){return this+t},subtract:function(t){return this-t},minus:function(t){return this-t},multiply:function(t){return this*t},divide:function(t){return this/t}});t(Object.prototype,{isEmpty:{get(){return Object.keys(this).length===0}},size:{get(){return Object.keys(this).length}},values:{get(){return Object.values(this)}},keys:{get(){return Object.keys(this)}},entries:{get(){return Object.entries(this)}},clear:{get(){Object.keys(this).forEach((t=>delete this[t]));return this}},compact:{get(){const t={...this};for(let e in t)t[e]==null&&delete t[e];return t}},to_s:{get(){return"{ "+Object.entries(this).map((([t,e])=>`${t}: ${e?.to_s||e}`)).join(", ")+" }"}},transform_keys:function(t){const e=Object.fromEntries(Object.entries(this).map((([e,r])=>[t(e),r])));return e},transform_values:function(t){const e=Object.fromEntries(Object.entries(this).map((([e,r])=>[e,t(r)])));return e},dig:function(...t){return t.reduce(((t,e)=>t?t[e]:void 0),this)},each:function(t){Object.entries(this).forEach(t);return this},each_key:function(t){Object.keys(this).forEach(t);return this},each_value:function(t){Object.values(this).forEach(t);return this},fetch:function(t){return this[t]},fetch_values:function(...t){return t.map((t=>this[t]))},select:function(t){return Object.entries(this).filter((e=>t(e)))},keep_if:function(t){return Object.entries(this).filter((e=>t(e)))},reject:function(t){return Object.entries(this).filter((e=>!t(e)))},delete_if:function(t){return Object.entries(this).filter((e=>!t(e)))},has_key:function(t){return Object.keys(this).includes(t)},has_value:function(t){return Object.values(this).includes(t)},key:function(t){const e=Object.entries(this).find((([e,r])=>r===t));return e?e[0]:void 0},any:function(t){return t?Object.entries(this).some((e=>t(e))):Object.keys(this).length>0},except:function(...t){return Object.fromEntries(Object.entries(this).filter((([e])=>!t.includes(e))))},eql:function(t){return Object.keys(this).length===Object.keys(t).length&&Object.keys(this).filter(((e,r)=>this[e].eql?this[e].eql(t[e]):this[e]===t[e])).length===Object.keys(this).length},each_pair:function(...t){return this.each(...t)},filter:function(...t){return this.select(...t)},includes:function(...t){return this.has_key(...t)}});class DateRange{constructor(t,e){this.start=t;this.end=e}_cloneUTC(t){return new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()))}includes(t){return t>=this.start&&t<=this.end}each(t,e=1){let r=this._cloneUTC(this.start);while(r<=this.end){t(this._cloneUTC(r));r.setUTCDate(r.getUTCDate()+e)}return this}each_day(t,e=1){return this.each(t,e)}each_week(t,e=1){let r=this._cloneUTC(this.start);while(r<=this.end){t(this._cloneUTC(r));r.setUTCDate(r.getUTCDate()+e*7)}return this}each_month(t,e=1){let r=this._cloneUTC(this.start);const n=r.getUTCDate();while(r<=this.end){t(this._cloneUTC(r));let i=r.getUTCMonth()+e;let s=r.getUTCFullYear();s+=Math.floor(i/12);i=(i%12+12)%12;const h=new Date(Date.UTC(s,i+1,0)).getUTCDate();r=new Date(Date.UTC(s,i,Math.min(n,h)))}return this}each_quarter(t,e=1){let r=this._cloneUTC(this.start);while(r<=this.end){t(this._cloneUTC(r));r.setUTCMonth(r.getUTCMonth()+e*3)}return this}each_year(t,e=1){let r=this._cloneUTC(this.start);while(r<=this.end){t(this._cloneUTC(r));r.setUTCFullYear(r.getUTCFullYear()+e)}return this}*[Symbol.iterator](){let t=this._cloneUTC(this.start);while(t<=this.end){yield this._cloneUTC(t);t.setUTCDate(t.getUTCDate()+1)}}}class Duration{constructor({years:t=0,months:e=0,weeks:r=0,days:n=0,hours:i=0,minutes:s=0,seconds:h=0}={}){Object.assign(this,{years:t,months:e,weeks:r,days:n,hours:i,minutes:s,seconds:h})}get ago(){return this.until(Date.current)}since(t){return this.advance_from(t)}before(t){return this.until(t)}after(t){return this.since(t)}until(t){const e=new Duration(Object.fromEntries(Object.entries(this).map((([t,e])=>[t,-e]))));return e.advance_from(t)}get from_now(){return this.since(Date.current)}advance_from(t){const e=new Date(t);e.setSeconds(e.getSeconds()+this.seconds);e.setMinutes(e.getMinutes()+this.minutes);e.setHours(e.getHours()+this.hours);e.setDate(e.getDate()+this.days+this.weeks*7);e.setMonth(e.getMonth()+this.months+this.years*12);return e}}for(const e of["second","minute","hour","day","week","month","year"]){const r=e+"s";t(Number.prototype,{[r]:{get(){return new Duration({[r]:this})}},[e]:{get(){return this[r]}}})}for(const e of["day","week","month","quarter","year"])t(Date.prototype,{[`all_${e}`]:{get(){return new DateRange(this[`beginning_of_${e}`],this[`end_of_${e}`])}},[`at_beginning_of_${e}`]:{get(){return this[`beginning_of_${e}`]}},[`at_end_of_${e}`]:{get(){return this[`end_of_${e}`]}}});for(const e of["Yesterday","Today","Tomorrow"])t(Date.prototype,{[`is${e}`]:{get(){return this.all_day.includes(Date[e.toLowerCase()])}}});t(Date,{current:{get(){const t=new Date;return new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()))}},today:{get(){const t=new Date;return new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))}},yesterday:{get(){return new Date(Date.today.getTime()-864e5)}},tomorrow:{get(){return new Date(Date.today.getTime()+864e5)}}});t(Date.prototype,{yesterday:{get(){return this.advance({days:-1}).beginning_of_day}},tomorrow:{get(){return this.advance({days:1}).beginning_of_day}},days_in_month:{get(){return new Date(Date.UTC(this.getFullYear(),this.getMonth()+1,0)).getUTCDate()}},advance:function(t){return new Duration(t).advance_from(this)},change:function({year:t,month:e,day:r,hour:n,minute:i,second:s,ms:h}={}){return new Date(Date.UTC(t??this.getUTCFullYear(),e??this.getUTCMonth(),r??this.getUTCDate(),n??this.getUTCHours(),i??this.getUTCMinutes(),s??this.getUTCSeconds(),h??this.getUTCMilliseconds()))}});const e=t=>e=>e[t];export{e as $};

